(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(e,t,a){e.exports=a(181)},180:function(e,t,a){},181:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(36),l=a.n(c),o=a(19),s=a(209),i=a(95),u=a(27),m=a(76),d=a(101),p=a(96),h=a(9),f={loading:!1,info:null,error:null,success:null};var E={loading:!1,error:null,path:null};var g={loading:!0,error:null,meals:[{id:1,title:"---"},{id:2,title:"----- ---"}],recipes:[{placeholder:!0,id:0,title:"---- --- -- ------",body:"---- --- -- ------ ---- --- -- ------ ---- --- -- ------ ---- --- -- ------",author:"---- ------ ",category:1,image:"https://firebasestorage.googleapis.com/v0/b/react-native-starter-app.appspot.com/o/image-1.jpg?alt=media&token=9f7c839b-2d40-4660-a2a0-bf6c2f64a2e5",ingredients:["---- --- -- ------","---- ------ --- --"],method:["---- --- -- ------","---- ------ --- --"]}],favourites:[]};var b="en";var v=b;var w={loading:!0,error:null,categories:[{placeholder:!0,id:0,title:"---- --- -- ------"}]};var y={rehydrated:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"persist/REHYDRATE":return!0;default:return e}},status:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STATUS_REPLACE":return Object(h.a)({},e,{loading:t.loading||!1,info:t.info||null,error:t.error||null,success:t.success||null});default:return e}},member:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOGIN":return t.data?Object(h.a)({},e,{loading:!1,error:null,path:e,uid:t.data.uid,email:t.data.email,emailVerified:t.data.emailVerified}):E;case"USER_DETAILS_UPDATE":return t.data?Object(h.a)({},e,{loading:!1,error:null,firstName:t.data.firstName,lastName:t.data.lastName,signedUp:t.data.signedUp,role:t.data.role}):E;case"USER_ERROR":return t.data?Object(h.a)({},e,{loading:!1,error:t.data}):E;case"USER_RESET":return E;default:return e}},recipes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FAVOURITES_REPLACE":return Object(h.a)({},e,{favourites:t.data||[]});case"MEALS_REPLACE":return Object(h.a)({},e,{error:null,loading:!1,meals:t.data});case"RECIPES_ERROR":return Object(h.a)({},e,{error:t.data});case"RECIPES_REPLACE":var a=[];return t.data&&"object"===typeof t.data&&(a=t.data.map(function(e){return{id:e.id,title:e.title,body:e.body,category:e.category,image:e.image,author:e.author,ingredients:e.ingredients,method:e.method}})),Object(h.a)({},e,{error:null,loading:!1,recipes:a});default:return e}},locale:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOCALE_REPLACE":return t.locale?t.locale:v;default:return e}},categories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CATEGORIES_ERROR":return Object(h.a)({},e,{error:t.data});case"CATEGORIES_REPLACE":var a=[];return t.data&&"object"===typeof t.data&&(a=t.data.map(function(e){return{id:e.id,title:e.title}})),Object(h.a)({},e,{error:null,loading:!1,categories:a});default:return e}}},O={key:"root",storage:d.a,blacklist:["status"]},j=Object(m.a)(O,y),S=[p.a],C=function(){var e=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,t=Object(u.e)(j,e(u.a.apply(void 0,S)));return{persistor:Object(m.b)(t,null,function(){t.getState()}),store:t}};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var N=a(211),P=a(208),k=a(182),x=a(183),L=a(184),R=a(30),A=function(e){var t=e.pageTitle,a=e.children;return r.a.createElement(k.a,null,r.a.createElement(R.Helmet,null,r.a.createElement("title",null,t)),r.a.createElement(x.a,null,r.a.createElement(L.a,{sm:"12"},a)))};A.defaultProps={pageTitle:"React App"};var T=A,F=a(10),M=a(12),U=a(11),I=a(13),D=a(14),_=a.n(D),V=a(23),H={default:"Hmm, an unknown error occured",timeout:"Server Timed Out. Check your internet connection",invalidJson:"Response returned is not valid JSON",invalidFirebase:"Firebase is not connected correctly",memberExists:"Member already exists",missingFirstName:"First name is missing",missingLastName:"Last name is missing",missingEmail:"Email is missing",missingPassword:"Password is missing",passwordsDontMatch:"Passwords do not match",recipe404:"Recipe not found",missingMealId:"Missing meal definition",localeDoesNotExist:"Sorry, we do not support that local",category404:"Category not found"},z=a(22),B=function(e,t,a){return new Promise(function(n,r){if(!["error","success","info","loading"].includes(t))return r("Type should be one of success, error or info");var c=a;return a||("success"===t&&(c="Success"),"error"===t&&(c="Sorry, an error occurred"),"info"===t&&(c="Something is happening..."),"loading"===t&&!1!==a&&(c=!0)),n(e(Object(z.a)({type:"STATUS_REPLACE"},t,c)))})},W=a(56),G="AIzaSyBzDTiH3mFwC19l8ojO22HbvIBBJcp9zUk",J="project-s-6fdb0.firebaseapp.com",X="https://project-s-6fdb0.firebaseio.com/",q="project-s-6fdb0.appspot.com",K="581201774684",Y=!1;"null"!==G&&"null"!==J&&"null"!==X&&"null"!==q&&"null"!==K&&(W.initializeApp({apiKey:G,authDomain:J,databaseURL:X,storageBucket:q,messagingSenderId:K}),Y=!0);var $=Y?W.database().ref():null,Q=Y?W:null;function Z(e){var t=$&&Q&&Q.auth()&&Q.auth().currentUser&&Q.auth().currentUser.uid?Q.auth().currentUser.uid:null;return!!t&&$.child("users/".concat(t)).on("value",function(t){var a=t.val()||[];return e({type:"USER_DETAILS_UPDATE",data:a})})}var ee=function(e){function t(){var e,a;Object(F.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(M.a)(this,(e=Object(U.a)(t)).call.apply(e,[this].concat(c)))).componentDidMount=function(){(0,a.props.fetchData)()},a.render=function(){var e=a.props,t=e.Layout,n=e.member,c=e.memberLogout;return r.a.createElement(t,{member:n,logout:c})},a}return Object(I.a)(t,e),t}(n.Component),te={memberLogout:function(){return function(e){return new Promise(function(t,a){Q.auth().signOut().then(function(){e({type:"USER_RESET"}),setTimeout(t,1e3)}).catch(a)}).catch(function(){var t=Object(V.a)(_.a.mark(function t(a){return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B(e,"error",a.message);case 2:throw a.message;case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}())}},fetchData:function(){return null===Q?function(){return new Promise(function(e){return e()})}:function(e){return new Promise(function(t){Q.auth().onAuthStateChanged(function(a){return a?t(Z(e)):function(){return new Promise(function(){return t()})}})})}}},ae=Object(o.b)(function(e){return{member:e.member||{}}},te)(ee),ne=a(26),re=a(7),ce=a(188),le=a(189),oe=a(190),se=a(187),ie=a(212),ue=a(191),me=a(192),de=a(193),pe=a(185),he=a(186),fe=a(213),Ee="Project X",ge=function(){return r.a.createElement("div",null,r.a.createElement(pe.a,null,r.a.createElement(he.a,{className:"nav-link ".concat("/"===window.location.pathname&&"active"),to:"/"},r.a.createElement("i",{className:"icon-home"})," ",r.a.createElement("span",null,"Home"))),r.a.createElement(pe.a,null,r.a.createElement(he.a,{className:"nav-link ".concat(window.location.pathname.startsWith("/recipe")&&"active"),to:"/recipes"},r.a.createElement("i",{className:"icon-notebook"})," ",r.a.createElement("span",null,"Recipes"))),r.a.createElement(pe.a,null,r.a.createElement(he.a,{className:"nav-link ".concat(window.location.pathname.startsWith("/category")&&"active"),to:"/category"},r.a.createElement("i",{className:"icon-grid"})," ",r.a.createElement("span",null,"Category"))))},be=function(){return r.a.createElement("div",null,r.a.createElement(L.a,{sm:"3",md:"2",className:"d-none d-sm-block sidebar"},r.a.createElement(se.a,{vertical:!0},ge())))},ve=function(e){function t(e){var a;return Object(F.a)(this,t),(a=Object(M.a)(this,Object(U.a)(t).call(this,e))).onLogout=function(){var e=a.props,t=e.logout,n=e.history;t().then(function(){return n.push("/login")})},a.toggleDropDown=function(){var e=a.state.isOpen;a.setState({isOpen:!e})},a.toggleDropDown=a.toggleDropDown.bind(Object(re.a)(a)),a.state={isOpen:!1},a}return Object(I.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){var e=this.props.member,t=this.state.isOpen,a=!(!e||!e.email);return r.a.createElement("header",null,r.a.createElement(ce.a,{dark:!0,color:"primary",expand:"sm",className:"fixed-top"},r.a.createElement(he.a,{to:"/",className:"navbar-brand",style:{color:"#FFF"}},Ee),r.a.createElement(le.a,{onClick:this.toggleDropDown}),r.a.createElement(oe.a,{isOpen:t,navbar:!0},r.a.createElement(se.a,{className:"ml-auto",navbar:!0},r.a.createElement("div",{className:"d-block d-sm-none"},ge()),r.a.createElement(ie.a,{nav:!0},r.a.createElement(ue.a,{nav:!0,caret:!0},a?"Hi, ".concat(e.firstName):"My Account"),r.a.createElement(me.a,null,!a&&r.a.createElement("div",null,r.a.createElement(de.a,{tag:he.a,to:"/login"},"Login"),r.a.createElement(de.a,{tag:he.a,to:"/sign-up"},"Sign Up")),a&&r.a.createElement("div",null,r.a.createElement(de.a,{tag:he.a,to:"/update-profile"},"Update Profile"),r.a.createElement(de.a,{divider:!0}),r.a.createElement(de.a,{tag:"button",onClick:this.onLogout},"Logout")))),r.a.createElement(pe.a,null,r.a.createElement(he.a,{className:"nav-link",to:"/cart"},r.a.createElement("i",{className:"icon-basket"})," ",r.a.createElement("span",null,"Cart")))))))}}]),t}(n.Component);ve.defaultProps={member:{},match:null};var we=Object(fe.a)(ve),ye=function(){return r.a.createElement("footer",{className:"mt-5"},r.a.createElement(x.a,null,r.a.createElement(L.a,{sm:"12",className:"text-right pt-3"},r.a.createElement("p",null,"Written and Maintained by"," ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://vebr.github.io"},"Veddha Edsa"),"."))))},Oe=function(e){var t=e.pageTitle,a=e.children;return r.a.createElement("div",null,r.a.createElement(R.Helmet,null,r.a.createElement("title",null,t)),r.a.createElement(ae,{Layout:we}),r.a.createElement(k.a,{fluid:!0},r.a.createElement(x.a,null,r.a.createElement(be,null),r.a.createElement(L.a,{md:"10",sm:"9",className:"px-sm-5 py-sm-5 ml-sm-auto"},a,r.a.createElement(ye,null)))))};Oe.defaultProps={pageTitle:"Project X"};var je=Oe,Se=a(194),Ce=function(){return r.a.createElement("div",null,r.a.createElement(x.a,null,r.a.createElement(Se.a,{className:"bg-primary text-white w-100"},r.a.createElement("h1",null,"Project X"),r.a.createElement("p",{className:"lead"},"Trying to solve:"),r.a.createElement("ol",null,r.a.createElement("li",null,"Architect services are expensive"),r.a.createElement("li",null,"Make everyone can use the services of an architect"),r.a.createElement("li",null,"Selling versatile furniture")))))},Ne=function(e){function t(){var e,a;Object(F.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(M.a)(this,(e=Object(U.a)(t)).call.apply(e,[this].concat(c)))).render=function(){var e=a.props.Layout;return r.a.createElement(e,null)},a}return Object(I.a)(t,e),t}(n.Component);Ne.defaultProps={match:null};var Pe=Ne,ke=function(e){e.title,e.content;return r.a.createElement(x.a,null,r.a.createElement(L.a,{lg:"4"},r.a.createElement("h1",null,"CART"),r.a.createElement("p",null,"This is Cart")))};ke.defaultProps={title:"Uh oh",content:"An unexpected error came up"};var xe=ke;var Le=function(e){function t(){var e,a;Object(F.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(M.a)(this,(e=Object(U.a)(t)).call.apply(e,[this].concat(c)))).componentDidMount=function(){return a.fetchRecipes()},a.fetchRecipes=function(){var e=a.props,t=e.fetchRecipes,n=e.fetchMeals,r=e.showError;return t().then(function(){return n()}).catch(function(e){return console.log("Error: ".concat(e)),r(e)})},a.render=function(){var e=a.props,t=e.Layout,n=e.recipes,c=e.match,l=c&&c.params&&c.params.id?c.params.id:null;return r.a.createElement(t,{recipeId:l,error:n.error,loading:n.loading,recipes:n.recipes,reFetch:function(){return a.fetchRecipes()}})},a}return Object(I.a)(t,e),t}(n.Component);Le.defaultProps={match:null};var Re={fetchRecipes:function(){return null===Q?function(){return new Promise(function(e){return e()})}:function(e){return new Promise(function(t){return $.child("recipes").on("value",function(a){var n=a.val()||[];return t(e({type:"RECIPES_REPLACE",data:n}))})}).catch(function(e){return console.log(e)})}},fetchMeals:function(){return null===Q?function(){return new Promise(function(e){return e()})}:function(e){return new Promise(function(t,a){return $.child("meals").once("value").then(function(a){var n=a.val()||[];return t(e({type:"MEALS_REPLACE",data:n}))}).catch(a)}).catch(function(e){return console.log(e)})}},showError:function(e){return function(t){return new Promise(function(a){return a(t({type:"RECIPES_ERROR",data:e}))})}}},Ae=Object(o.b)(function(e){return{recipes:e.recipes||{}}},Re)(Le),Te=a(195),Fe=a(196),Me=a(197),Ue=a(198),Ie=a(199),De=function(e){var t=e.title,a=e.content;return r.a.createElement(x.a,null,r.a.createElement(L.a,{lg:"4"},r.a.createElement("h2",null,t),r.a.createElement("p",null,a),r.a.createElement("p",null,r.a.createElement(he.a,{to:"/",className:"btn btn-primary"},"Go Home"))))};De.defaultProps={title:"Uh oh",content:"An unexpected error came up"};var _e=De,Ve=function(e){var t=e.error,a=e.loading,n=e.recipes;if(t)return r.a.createElement(_e,{content:t});var c=n.map(function(e){return r.a.createElement(Te.a,{key:"".concat(e.id)},r.a.createElement(he.a,{to:"/recipe/".concat(e.id)},r.a.createElement(Fe.a,{top:!0,src:e.image,alt:e.title})),r.a.createElement(Me.a,null,r.a.createElement(Ue.a,null,e.title),r.a.createElement(Ie.a,null,e.body),r.a.createElement(he.a,{className:"btn btn-primary",to:"/recipe/".concat(e.id)},"View Recipe"," ",r.a.createElement("i",{className:"icon-arrow-right"}))))});return r.a.createElement("div",null,r.a.createElement(x.a,null,r.a.createElement(L.a,{sm:"12"},r.a.createElement("h1",null,"Recipes"),r.a.createElement("p",null,"The following data is read directly from Firebase."))),r.a.createElement(x.a,{className:a?"content-loading":""},r.a.createElement(L.a,{sm:"12",className:"card-columns"},c)))};Ve.defaultProps={error:null};var He=Ve,ze=a(201),Be=a(202),We=a(203),Ge=a(200),Je=function(){return r.a.createElement(x.a,null,r.a.createElement(L.a,{md:{size:6,offset:3}},r.a.createElement("div",{className:"page-is-loading"},r.a.createElement(Ge.a,{bar:!0,animated:!0,value:"100"},"Loading"))))},Xe=function(e){var t=e.error,a=e.loading,n=e.recipes,c=e.recipeId;if(a)return r.a.createElement(Je,null);if(t)return r.a.createElement(_e,{content:t});var l=null;if(c&&n&&(l=n.find(function(e){return parseInt(e.id,10)===parseInt(c,10)})),!l)return r.a.createElement(_e,{content:H.recipe404});var o=l.ingredients.map(function(e){return r.a.createElement(ze.a,{key:"".concat(e)},e)}),s=l.method.map(function(e){return r.a.createElement(ze.a,{key:"".concat(e)},e)});return r.a.createElement("div",null,r.a.createElement(R.Helmet,null,r.a.createElement("title",null,l.title)),r.a.createElement(x.a,null,r.a.createElement(L.a,{sm:"12"},r.a.createElement("h1",null,l.title),r.a.createElement("p",null,"by"," ",l.author))),r.a.createElement(x.a,null,r.a.createElement(L.a,{lg:"4",className:"recipe-view-card"},r.a.createElement(Te.a,null,r.a.createElement(Be.a,null,"About this recipe"),r.a.createElement(Me.a,null,r.a.createElement(Ie.a,null,l.body)))),r.a.createElement(L.a,{lg:"4",className:"recipe-view-card"},r.a.createElement(Te.a,null,r.a.createElement(Be.a,null,"Ingredients"),r.a.createElement(We.a,{className:"list-group-flush"},o))),r.a.createElement(L.a,{lg:"4",className:"recipe-view-card"},r.a.createElement(Te.a,null,r.a.createElement(Be.a,null,"Method"),r.a.createElement(We.a,{className:"list-group-flush"},s)))),r.a.createElement(x.a,{className:"pb-3"},r.a.createElement(L.a,{sm:"12"},r.a.createElement(he.a,{className:"btn btn-secondary",to:"/recipes"},r.a.createElement("i",{className:"icon-arrow-left"})," ","Back"))))};Xe.defaultProps={error:null};var qe=Xe;var Ke=function(e){function t(){var e,a;Object(F.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(M.a)(this,(e=Object(U.a)(t)).call.apply(e,[this].concat(c)))).componentDidMount=function(){return a.fetchCategories()},a.fetchCategories=function(){var e=a.props,t=e.fetchCategories,n=e.showError;return t().catch(function(e){return console.log("Error: ".concat(e)),n(e)})},a.render=function(){var e=a.props,t=e.Layout,n=e.categories,c=e.match,l=c&&c.params&&c.params.categoryId?c.params.categoryId:null;return r.a.createElement(t,{categoryId:l,error:n.error,loading:n.loading,categories:n.categories,reFetch:function(){return a.fetchCategories()}})},a}return Object(I.a)(t,e),t}(n.Component);Ke.defaultProps={match:null};var Ye={fetchCategories:function(){return null===Q?function(){return new Promise(function(e){return e()})}:function(e){return new Promise(function(t){return $.child("categories").on("value",function(a){var n=a.val()||[];return t(e({type:"CATEGORIES_REPLACE",data:n}))})}).catch(function(e){return console.log(e)})}},showError:function(e){return function(t){return new Promise(function(a){return a(t({type:"CATEGORIES_ERROR",data:e}))})}}},$e=Object(o.b)(function(e){return{categories:e.categories||{}}},Ye)(Ke),Qe=function(e){var t=e.error,a=e.loading,n=e.categories;if(t)return r.a.createElement(_e,{content:t});var c=n.map(function(e){return r.a.createElement(Te.a,{key:"".concat(e.id)},r.a.createElement(Me.a,null,r.a.createElement(Ue.a,null,e.title),r.a.createElement(he.a,{className:"btn btn-primary",to:"/categories/".concat(e.id)},"View Category"," ",r.a.createElement("i",{className:"icon-arrow-right"}))))});return r.a.createElement("div",null,r.a.createElement(x.a,null,r.a.createElement(L.a,{sm:"12"},r.a.createElement("h1",null,"Category"))),r.a.createElement(x.a,{className:a?"content-loading":""},r.a.createElement(L.a,{sm:"12",className:"card-columns"},c)))};Qe.defaultProps={error:null};var Ze=Qe,et=function(e){var t=e.error,a=e.loading,n=e.categories,c=e.categoryId;if(a)return r.a.createElement(Je,null);if(t)return r.a.createElement(_e,{content:t});var l=null;return c&&n&&(l=n.find(function(e){return parseInt(e.id,10)===parseInt(c,10)})),l?r.a.createElement("div",null,r.a.createElement(R.Helmet,null,r.a.createElement("title",null,l.title)),r.a.createElement(x.a,null,r.a.createElement(L.a,{sm:"12"},r.a.createElement("h1",null,l.title))),r.a.createElement(x.a,{className:"pb-3"},r.a.createElement(L.a,{sm:"12"},r.a.createElement(he.a,{className:"btn btn-secondary",to:"/category"},r.a.createElement("i",{className:"icon-arrow-left"})," ","Back")))):r.a.createElement(_e,{content:H.category404})};et.defaultProps={error:null};var tt=et,at=function(e){function t(){var e,a;Object(F.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(M.a)(this,(e=Object(U.a)(t)).call.apply(e,[this].concat(c)))).state={errorMessage:null},a.onFormSubmit=function(e){return(0,a.props.onFormSubmit)(e).catch(function(e){throw a.setState({errorMessage:e}),e})},a.render=function(){var e=a.props,t=e.member,n=e.Layout,c=e.isLoading,l=a.state.errorMessage;return r.a.createElement(n,{member:t,loading:c,error:l,onFormSubmit:a.onFormSubmit})},a}return Object(I.a)(t,e),t}(n.Component),nt={onFormSubmit:function(e){var t=e.email,a=e.password,n=e.password2,r=e.firstName,c=e.lastName;return function(e){return new Promise(function(){var l=Object(V.a)(_.a.mark(function l(o,s){return _.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(r){l.next=2;break}return l.abrupt("return",s({message:H.missingFirstName}));case 2:if(c){l.next=4;break}return l.abrupt("return",s({message:H.missingLastName}));case 4:if(t){l.next=6;break}return l.abrupt("return",s({message:H.missingEmail}));case 6:if(a){l.next=8;break}return l.abrupt("return",s({message:H.missingPassword}));case 8:if(n){l.next=10;break}return l.abrupt("return",s({message:H.missingPassword}));case 10:if(a===n){l.next=12;break}return l.abrupt("return",s({message:H.passwordsDontMatch}));case 12:return l.next=14,B(e,"loading",!0);case 14:return l.abrupt("return",Q.auth().createUserWithEmailAndPassword(t,a).then(function(t){t&&t.user.uid&&$.child("users/".concat(t.user.uid)).set({firstName:r,lastName:c,signedUp:Q.database.ServerValue.TIMESTAMP,lastLoggedIn:Q.database.ServerValue.TIMESTAMP}).then(function(){return B(e,"loading",!1).then(o)})}).catch(s));case 15:case"end":return l.stop()}},l,this)}));return function(e,t){return l.apply(this,arguments)}}()).catch(function(){var t=Object(V.a)(_.a.mark(function t(a){return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B(e,"loading",!1);case 2:throw a.message;case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}())}}},rt=Object(o.b)(function(e){return{member:e.member||{},isLoading:e.status.loading||!1}},nt)(at),ct=a(210),lt=a(204),ot=a(205),st=a(206),it=a(207),ut=a(98),mt=function(e){function t(e){var a;return Object(F.a)(this,t),(a=Object(M.a)(this,Object(U.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(z.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault();var t=a.props,n=t.onFormSubmit,r=t.history;n(a.state).then(function(){return r.push("/login")}).catch(function(e){return console.log("Error: ".concat(e))})},a.state={firstName:"",lastName:"",email:"",password:"",password2:""},a.handleChange=a.handleChange.bind(Object(re.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(re.a)(a)),a}return Object(I.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){var e=this.props,t=e.loading,a=e.error,n=this.state,c=n.firstName,l=n.lastName,o=n.email,s=n.password,i=n.password2;return t?r.a.createElement(Je,null):r.a.createElement("div",null,r.a.createElement(x.a,null,r.a.createElement(L.a,{lg:{size:6,offset:3}},r.a.createElement(Te.a,null,r.a.createElement(Be.a,null,"Sign Up"),r.a.createElement(Me.a,null,!!a&&r.a.createElement(ct.a,{color:"danger"},a),r.a.createElement(lt.a,{onSubmit:this.handleSubmit},r.a.createElement(ot.a,null,r.a.createElement(st.a,{for:"firstName"},"First Name"),r.a.createElement(it.a,{type:"text",name:"firstName",id:"firstName",placeholder:"John",value:c,onChange:this.handleChange})),r.a.createElement(ot.a,null,r.a.createElement(st.a,{for:"lastName"},"Last Name"),r.a.createElement(it.a,{type:"text",name:"lastName",id:"lastName",placeholder:"Doe",value:l,onChange:this.handleChange})),r.a.createElement(ot.a,{style:{marginTop:40}},r.a.createElement(st.a,{for:"email"},"Email"),r.a.createElement(it.a,{type:"email",name:"email",id:"email",placeholder:"john@doe.corp",value:o,onChange:this.handleChange})),r.a.createElement(ot.a,null,r.a.createElement(st.a,{for:"password"},"Password"),r.a.createElement(it.a,{type:"password",name:"password",id:"password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",value:s,onChange:this.handleChange})),r.a.createElement(ot.a,null,r.a.createElement(st.a,{for:"password2"},"Confirm Password"),r.a.createElement(it.a,{type:"password",name:"password2",id:"password2",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",value:i,onChange:this.handleChange})),r.a.createElement(ut.a,{color:"primary"},"Sign Up!")),r.a.createElement("hr",null),r.a.createElement(x.a,null,r.a.createElement(L.a,{sm:"12"},"Already have an account?",r.a.createElement(he.a,{to:"/login"},"Login"))))))))}}]),t}(r.a.Component);mt.defaultProps={error:null};var dt=Object(fe.a)(mt),pt=function(e){function t(){var e,a;Object(F.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(M.a)(this,(e=Object(U.a)(t)).call.apply(e,[this].concat(c)))).state={errorMessage:null},a.onFormSubmit=function(e){return(0,a.props.onFormSubmit)(e).catch(function(e){throw a.setState({errorMessage:e}),e})},a.render=function(){var e=a.props,t=e.member,n=e.locale,c=e.Layout,l=e.isLoading,o=e.successMessage,s=a.state.errorMessage;return r.a.createElement(c,{member:t,locale:n,loading:l,error:s,success:o,onFormSubmit:a.onFormSubmit})},a}return Object(I.a)(t,e),t}(n.Component);pt.defaultProps={locale:null};var ht={onFormSubmit:function(e){var t=e.email,a=e.password;return function(e){return new Promise(function(){var n=Object(V.a)(_.a.mark(function n(r,c){return _.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,B(e,"loading",!0);case 2:if(t){n.next=4;break}return n.abrupt("return",c({message:H.missingEmail}));case 4:if(a){n.next=6;break}return n.abrupt("return",c({message:H.missingPassword}));case 6:return n.abrupt("return",Q.auth().setPersistence(Q.auth.Auth.Persistence.LOCAL).then(function(){return Q.auth().signInWithEmailAndPassword(t,a).then(function(){var t=Object(V.a)(_.a.mark(function t(a){var n;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(n=a&&a.user?a.user:null).uid&&($.child("users/".concat(n.uid)).update({lastLoggedIn:Q.database.ServerValue.TIMESTAMP}),!1===n.emailVerified&&Q.auth().currentUser.sendEmailVerification().catch(function(){return console.log("Verification email failed to send")}),Z(e)),t.next=4,B(e,"loading",!1);case 4:return t.abrupt("return",r(e({type:"USER_LOGIN",data:n})));case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()).catch(c)}));case 7:case"end":return n.stop()}},n,this)}));return function(e,t){return n.apply(this,arguments)}}()).catch(function(){var t=Object(V.a)(_.a.mark(function t(a){return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B(e,"loading",!1);case 2:throw a.message;case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}())}}},ft=Object(o.b)(function(e){return{member:e.member||{},locale:e.locale||null,isLoading:e.status.loading||!1,successMessage:e.status.success||""}},ht)(pt),Et=function(e){function t(e){var a;return Object(F.a)(this,t),(a=Object(M.a)(this,Object(U.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(z.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault();var t=a.props,n=t.onFormSubmit,r=t.history;n(a.state).then(function(){return r.push("/")}).catch(function(e){return console.log("Error: ".concat(e))})},a.state={email:e.member&&e.member.email?e.member.email:"",password:""},a.handleChange=a.handleChange.bind(Object(re.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(re.a)(a)),a}return Object(I.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){var e=this.props,t=e.loading,a=e.success,n=e.error,c=this.state,l=c.email,o=c.password;return t?r.a.createElement(Je,null):r.a.createElement("div",null,r.a.createElement(x.a,null,r.a.createElement(L.a,{lg:{size:6,offset:3}},r.a.createElement(Te.a,null,r.a.createElement(Be.a,null,"Login"),r.a.createElement(Me.a,null,!!a&&r.a.createElement(ct.a,{color:"success"},a),!!n&&r.a.createElement(ct.a,{color:"danger"},n),r.a.createElement(lt.a,{onSubmit:this.handleSubmit},r.a.createElement(ot.a,null,r.a.createElement(st.a,{for:"email"},"Email"),r.a.createElement(it.a,{type:"email",name:"email",id:"email",placeholder:"john@doe.corp",value:l,onChange:this.handleChange})),r.a.createElement(ot.a,null,r.a.createElement(st.a,{for:"password"},"Password"),r.a.createElement(it.a,{type:"password",name:"password",id:"password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",value:o,onChange:this.handleChange})),r.a.createElement(ut.a,{color:"primary"},"Login")),r.a.createElement("hr",null),r.a.createElement(x.a,null,r.a.createElement(L.a,{sm:"6"},"Need an account?"," ",r.a.createElement(he.a,{to:"/sign-up"},"Sign Up")),r.a.createElement(L.a,{sm:"6",className:"text-right"},r.a.createElement(he.a,{to:"/forgot-password"},"Forgot Password?"))))))))}}]),t}(r.a.Component);Et.defaultProps={success:null,error:null,member:{}};var gt=Object(fe.a)(Et),bt=function(e){function t(){var e,a;Object(F.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(M.a)(this,(e=Object(U.a)(t)).call.apply(e,[this].concat(c)))).state={errorMessage:null},a.onFormSubmit=function(e){return(0,a.props.onFormSubmit)(e).catch(function(e){throw a.setState({errorMessage:e}),e})},a.render=function(){var e=a.props,t=e.member,n=e.Layout,c=e.isLoading,l=a.state.errorMessage;return r.a.createElement(n,{member:t,loading:c,error:l,onFormSubmit:a.onFormSubmit})},a}return Object(I.a)(t,e),t}(n.Component),vt={onFormSubmit:function(e){var t=e.email;return function(e){return new Promise(function(){var a=Object(V.a)(_.a.mark(function a(n,r){return _.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(t){a.next=2;break}return a.abrupt("return",r({message:H.missingEmail}));case 2:return a.next=4,B(e,"loading",!0);case 4:return a.abrupt("return",Q.auth().sendPasswordResetEmail(t).then(function(){return B(e,"success","We have emailed you a reset link").then(n(e({type:"USER_RESET"})))}).catch(r));case 5:case"end":return a.stop()}},a,this)}));return function(e,t){return a.apply(this,arguments)}}()).catch(function(){var t=Object(V.a)(_.a.mark(function t(a){return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B(e,"loading",!1);case 2:throw a.message;case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}())}}},wt=Object(o.b)(function(e){return{member:e.member||{},isLoading:e.status.loading||!1}},vt)(bt),yt=function(e){function t(e){var a;return Object(F.a)(this,t),(a=Object(M.a)(this,Object(U.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(z.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault();var t=a.props,n=t.onFormSubmit,r=t.history;n(a.state).then(function(){return r.push("/login")}).catch(function(e){return console.log("Error: ".concat(e))})},a.state={email:e.member&&e.member.email?e.member.email:""},a.handleChange=a.handleChange.bind(Object(re.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(re.a)(a)),a}return Object(I.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){var e=this.props,t=e.loading,a=e.error,n=this.state.email;return t?r.a.createElement(Je,null):r.a.createElement("div",null,r.a.createElement(x.a,null,r.a.createElement(L.a,{lg:{size:6,offset:3}},r.a.createElement(Te.a,null,r.a.createElement(Be.a,null,"Forgot Password"),r.a.createElement(Me.a,null,!!a&&r.a.createElement(ct.a,{color:"danger"},a),r.a.createElement(lt.a,{onSubmit:this.handleSubmit},r.a.createElement(ot.a,null,r.a.createElement(st.a,{for:"email"},"Email"),r.a.createElement(it.a,{type:"email",name:"email",id:"email",placeholder:"john@doe.corp",value:n,onChange:this.handleChange})),r.a.createElement(ut.a,{color:"primary"},"Reset Password")),r.a.createElement("hr",null),r.a.createElement(x.a,null,r.a.createElement(L.a,{sm:"6"},"Need an account?"," ",r.a.createElement(he.a,{to:"/sign-up"},"Sign Up")),r.a.createElement(L.a,{sm:"6",className:"text-right"},r.a.createElement(he.a,{to:"/forgot-password"},"Login")," ","to your account.")))))))}}]),t}(r.a.Component);yt.defaultProps={error:null,member:{}};var Ot=Object(fe.a)(yt),jt=function(e){function t(){var e,a;Object(F.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(M.a)(this,(e=Object(U.a)(t)).call.apply(e,[this].concat(c)))).state={errorMessage:null,successMessage:null},a.onFormSubmit=function(e){return(0,a.props.onFormSubmit)(e).then(function(e){return a.setState({successMessage:e,errorMessage:null})}).catch(function(e){throw a.setState({errorMessage:e,successMessage:null}),e})},a.render=function(){var e=a.props,t=e.member,n=e.Layout,c=e.isLoading,l=a.state,o=l.successMessage,s=l.errorMessage;return r.a.createElement(n,{member:t,loading:c,error:s,success:o,onFormSubmit:a.onFormSubmit})},a}return Object(I.a)(t,e),t}(n.Component),St={onFormSubmit:function(e){var t=e.email,a=e.password,n=e.password2,r=e.firstName,c=e.lastName,l=e.changeEmail,o=e.changePassword;return function(e){return new Promise(function(){var s=Object(V.a)(_.a.mark(function s(i,u){var m;return _.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(m=Q.auth().currentUser.uid){s.next=3;break}return s.abrupt("return",u({message:H.missingFirstName}));case 3:if(r){s.next=5;break}return s.abrupt("return",u({message:H.missingFirstName}));case 5:if(c){s.next=7;break}return s.abrupt("return",u({message:H.missingLastName}));case 7:if(!l){s.next=10;break}if(t){s.next=10;break}return s.abrupt("return",u({message:H.missingEmail}));case 10:if(!o){s.next=17;break}if(a){s.next=13;break}return s.abrupt("return",u({message:H.missingPassword}));case 13:if(n){s.next=15;break}return s.abrupt("return",u({message:H.missingPassword}));case 15:if(a===n){s.next=17;break}return s.abrupt("return",u({message:H.passwordsDontMatch}));case 17:return s.next=19,B(e,"loading",!0);case 19:return s.abrupt("return",$.child("users/".concat(m)).update({firstName:r,lastName:c}).then(Object(V.a)(_.a.mark(function n(){return _.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!l){n.next=3;break}return n.next=3,Q.auth().currentUser.updateEmail(t).catch(u);case 3:if(!o){n.next=6;break}return n.next=6,Q.auth().currentUser.updatePassword(a).catch(u);case 6:return n.next=8,Z(e);case 8:return n.next=10,B(e,"loading",!1);case 10:return n.abrupt("return",i("Profile Updated"));case 11:case"end":return n.stop()}},n,this)}))).catch(u));case 20:case"end":return s.stop()}},s,this)}));return function(e,t){return s.apply(this,arguments)}}()).catch(function(){var t=Object(V.a)(_.a.mark(function t(a){return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B(e,"loading",!1);case 2:throw a.message;case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}())}}},Ct=Object(o.b)(function(e){return{member:e.member||{},isLoading:e.status.loading||!1}},St)(jt),Nt=function(e){function t(e){var a;return Object(F.a)(this,t),(a=Object(M.a)(this,Object(U.a)(t).call(this,e))).handleChange=function(e){var t="checkbox"===e.target.type?e.target.checked:e.target.value;a.setState(Object(z.a)({},e.target.name,t))},a.handleSubmit=function(e){e.preventDefault(),(0,a.props.onFormSubmit)(a.state).then(function(){return console.log("Profile updated")}).catch(function(e){return console.log("Error: ".concat(e))})},a.state={firstName:e.member.firstName||"",lastName:e.member.lastName||"",email:e.member.email||"",password:"",password2:"",changeEmail:!1,changePassword:!1},a.handleChange=a.handleChange.bind(Object(re.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(re.a)(a)),a}return Object(I.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){var e=this.props,t=e.loading,a=e.success,n=e.error,c=this.state,l=c.firstName,o=c.lastName,s=c.changeEmail,i=c.email,u=c.changePassword,m=c.password,d=c.password2;return t?r.a.createElement(Je,null):r.a.createElement("div",null,r.a.createElement(x.a,null,r.a.createElement(L.a,{lg:{size:6,offset:3}},r.a.createElement(Te.a,null,r.a.createElement(Be.a,null,"Update Profile"),r.a.createElement(Me.a,null,!!n&&r.a.createElement(ct.a,{color:"danger"},n),!!a&&r.a.createElement(ct.a,{color:"success"},a),r.a.createElement(lt.a,{onSubmit:this.handleSubmit},r.a.createElement(ot.a,null,r.a.createElement(st.a,{for:"firstName"},"First Name"),r.a.createElement(it.a,{type:"text",name:"firstName",id:"firstName",placeholder:"John",value:l,onChange:this.handleChange})),r.a.createElement(ot.a,null,r.a.createElement(st.a,{for:"lastName"},"Last Name"),r.a.createElement(it.a,{type:"text",name:"lastName",id:"lastName",placeholder:"Doe",value:o,onChange:this.handleChange})),r.a.createElement(ot.a,{check:!0,style:{marginTop:20}},r.a.createElement(st.a,{check:!0},r.a.createElement(it.a,{type:"checkbox",name:"changeEmail",checked:s,onChange:this.handleChange})," ","Change my email")),s&&r.a.createElement(ot.a,null,r.a.createElement(st.a,{for:"email"},"Email"),r.a.createElement(it.a,{type:"email",name:"email",id:"email",placeholder:"john@doe.corp",value:i,onChange:this.handleChange})),r.a.createElement(ot.a,{check:!0,style:{marginTop:20}},r.a.createElement(st.a,{check:!0},r.a.createElement(it.a,{type:"checkbox",name:"changePassword",checked:u,onChange:this.handleChange})," ","Change my password")),u&&r.a.createElement("div",null,r.a.createElement(ot.a,null,r.a.createElement(st.a,{for:"password"},"Password"),r.a.createElement(it.a,{type:"password",name:"password",id:"password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",value:m,onChange:this.handleChange})),r.a.createElement(ot.a,null,r.a.createElement(st.a,{for:"password2"},"Confirm Password"),r.a.createElement(it.a,{type:"password",name:"password2",id:"password2",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",value:d,onChange:this.handleChange}))),r.a.createElement(ut.a,{style:{marginTop:20},color:"primary"},"Update")))))))}}]),t}(r.a.Component);Nt.defaultProps={error:null,success:null};var Pt=Nt,kt=function(){return r.a.createElement(N.a,null,r.a.createElement(P.a,{exact:!0,path:"/",render:function(e){return r.a.createElement(je,null,r.a.createElement(Ce,e))}}),r.a.createElement(P.a,{path:"/sign-up",render:function(e){return r.a.createElement(je,{pageTitle:"Sign Up"},r.a.createElement(rt,Object.assign({},e,{Layout:dt})))}}),r.a.createElement(P.a,{path:"/login",render:function(e){return r.a.createElement(je,{pageTitle:"Login"},r.a.createElement(ft,Object.assign({},e,{Layout:gt})))}}),r.a.createElement(P.a,{path:"/forgot-password",render:function(e){return r.a.createElement(T,{pageTitle:"Forgot Password"},r.a.createElement(wt,Object.assign({},e,{Layout:Ot})))}}),r.a.createElement(P.a,{path:"/update-profile",render:function(e){return r.a.createElement(je,{pageTitle:"Update Profile"},r.a.createElement(Ct,Object.assign({},e,{Layout:Pt})))}}),r.a.createElement(P.a,{path:"/cart",render:function(e){return r.a.createElement(je,{pageTitle:"Cart",path:"/cart"},r.a.createElement(Pe,Object.assign({},e,{Layout:xe})))}}),r.a.createElement(P.a,{path:"/recipes",render:function(e){return r.a.createElement(je,{pageTitle:"Recipes"},r.a.createElement(Ae,Object.assign({},e,{Layout:He})))}}),r.a.createElement(P.a,{path:"/category",render:function(e){return r.a.createElement(je,{pageTitle:"Category"},r.a.createElement($e,Object.assign({},e,{Layout:Ze})))}}),r.a.createElement(P.a,{path:"/categories/:categoryId",render:function(e){return r.a.createElement(je,{pageTitle:"Category View"},r.a.createElement($e,Object.assign({},e,{Layout:tt})))}}),r.a.createElement(P.a,{path:"/recipe/:id",render:function(e){return r.a.createElement(je,{pageTitle:"Recipe View"},r.a.createElement(Ae,Object.assign({},e,{Layout:qe})))}}),r.a.createElement(P.a,{render:function(e){return r.a.createElement(je,{pageTitle:"404 - Page note found"},r.a.createElement(_e,Object.assign({},e,{title:"404",content:"Sorry, the route you requested does not exist"})))}}))},xt=(a(180),C()),Lt=xt.persistor,Rt=xt.store;l.a.render(r.a.createElement(function(){return r.a.createElement(o.a,{store:Rt},r.a.createElement(i.a,{loading:r.a.createElement(Je,null),persistor:Lt},r.a.createElement(s.a,null,r.a.createElement(kt,null))))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[102,1,2]]]);
//# sourceMappingURL=main.837b6f15.chunk.js.map